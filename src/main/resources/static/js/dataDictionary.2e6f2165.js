"use strict";(self["webpackChunkhrms_frontend"]=self["webpackChunkhrms_frontend"]||[]).push([[382],{9394:function(a,e,t){t.d(e,{u:function(){return l}});const l=(a,e)=>{for(let t in a)a[t]=e[t];return a}},7604:function(a,e,t){t.r(e),t.d(e,{default:function(){return m}});var l=t(3396),u=t(4870),d=t(8198),n=t(2074),i=t(2483),o=t(8439),c=t(9394),r={__name:"DataDictionaryAdd",setup(a){const e=(0,i.yj)(),t=(0,i.tv)();let r=o.zw.ADD,s=null,m=(0,u.qj)({dataDictKey:"",dataDictValue:"",dataDictLabel:""});const f=(0,u.iH)(),p=async a=>{if(r===o.zw.UPDATE){a={...a,...s};const e=await d.Z.update(a);n.ZP.info("修改成功："+e.dataDictKey),t.back()}else{const e=await d.Z.add(a);n.ZP.info("新增成功："+e.dataDictKey),f.value.resetFields()}};return(0,l.bv)((async()=>{e.params.code&&(r=o.zw.UPDATE,s=await d.Z.queryByCode({dataDictKey:e.params.code}),(0,c.u)(m,{...s}))})),(a,e)=>{const t=(0,l.up)("a-input"),d=(0,l.up)("a-form-item"),n=(0,l.up)("a-button"),i=(0,l.up)("a-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(i,(0,l.dG)({model:(0,u.SU)(m),ref_key:"formRef",ref:f,autocomplete:"off",onFinish:p},(0,u.SU)(o.Ju)),{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"数据字典代码",name:"dataDictKey",rules:[{required:!0,message:"请输入数据字典代码!"}]},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{value:(0,u.SU)(m).dataDictKey,"onUpdate:value":e[0]||(e[0]=a=>(0,u.SU)(m).dataDictKey=a)},null,8,["value"])])),_:1}),(0,l.Wm)(d,{label:"数据字典值",name:"dataDictValue",rules:[{required:!0,message:"请输入数据字典值!"}]},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{value:(0,u.SU)(m).dataDictValue,"onUpdate:value":e[1]||(e[1]=a=>(0,u.SU)(m).dataDictValue=a)},null,8,["value"])])),_:1}),(0,l.Wm)(d,{label:"数据字典名称",name:"dataDictLabel",rules:[{required:!0,message:"请输入数据字典名称!"}]},{default:(0,l.w5)((()=>[(0,l.Wm)(t,{value:(0,u.SU)(m).dataDictLabel,"onUpdate:value":e[2]||(e[2]=a=>(0,u.SU)(m).dataDictLabel=a)},null,8,["value"])])),_:1}),(0,l.Wm)(d,{"wrapper-col":{offset:8,span:16}},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{type:"primary","html-type":"submit"},{default:(0,l.w5)((()=>[(0,l.Uk)("保存")])),_:1})])),_:1})])),_:1},16,["model"])])}}};const s=r;var m=s},2215:function(a,e,t){t.r(e),t.d(e,{default:function(){return f}});t(7658);var l=t(3396),u=t(4870),d=t(8198),n=t(2483),i=t(2074),o=t(8439);const c=["onClick"],r=(0,l._)("a",null,"删除",-1);var s={__name:"DataDictionaryList",setup(a){const e=(0,n.tv)(),t=[{title:"ID",dataIndex:"dataDictId",key:"dataDictId"},{title:"数据字典代码",dataIndex:"dataDictKey",key:"dataDictKey"},{title:"数据字典名称",dataIndex:"dataDictValue",key:"dataDictValue"},{title:"数据字典简称",dataIndex:"dataDictLabel",key:"dataDictLabel"},{title:"操作",dataIndex:"operation"}],s=(0,u.iH)([]),m=(0,u.iH)();let f=(0,u.qj)({dataDictCode:""});const p=async a=>{s.value=await d.Z.likeByCode(a)},D=async()=>{s.value=await d.Z.list()},y=async()=>{m.value.resetFields(),D()};(0,l.bv)((async()=>{D()}));const w=a=>{e.push({path:`/dataDict/update/${a.dataDictCode}`})},v=async a=>{await d.Z["delete"]({...a,dataStatus:o.s_.DELETE}),i.ZP.info("删除成功："+a.dataDictId),D()};return(a,e)=>{const d=(0,l.up)("a-input"),n=(0,l.up)("a-form-item"),i=(0,l.up)("a-button"),D=(0,l.up)("a-form"),_=(0,l.up)("a-popconfirm"),k=(0,l.up)("a-table");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(D,(0,l.dG)({model:(0,u.SU)(f),name:"basic",autocomplete:"off",onFinish:p},(0,u.SU)(o.Ju),{ref_key:"formRef",ref:m}),{default:(0,l.w5)((()=>[(0,l.Wm)(n,{label:"数据字典代码",name:"dataDictCode",rules:[{required:!0,message:"请输入员工代码!"}]},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{value:(0,u.SU)(f).dataDictCode,"onUpdate:value":e[0]||(e[0]=a=>(0,u.SU)(f).dataDictCode=a)},null,8,["value"])])),_:1}),(0,l.Wm)(n,{"wrapper-col":{offset:8,span:16}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{type:"primary","html-type":"submit"},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1}),(0,l.Wm)(i,{onClick:y,style:{"margin-left":"10px"}},{default:(0,l.w5)((()=>[(0,l.Uk)("重置")])),_:1})])),_:1})])),_:1},16,["model"]),(0,l.Wm)(k,{dataSource:s.value,columns:t},{bodyCell:(0,l.w5)((({column:a,record:e})=>["operation"===a.dataIndex?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("a",{onClick:a=>w(e)},"修改",8,c),(0,l.Uk)(" | "),s.value.length?((0,l.wg)(),(0,l.j4)(_,{key:0,title:"确定要删除吗?",onConfirm:a=>v(e)},{default:(0,l.w5)((()=>[r])),_:2},1032,["onConfirm"])):(0,l.kq)("",!0)],64)):(0,l.kq)("",!0)])),_:1},8,["dataSource"])])}}};const m=s;var f=m}}]);
//# sourceMappingURL=dataDictionary.2e6f2165.js.map