"use strict";(self["webpackChunkhrms_frontend"]=self["webpackChunkhrms_frontend"]||[]).push([[482],{2389:function(e,a,t){var l=t(9200);class n{generateSalarySheet(e){return(0,l.W)("/api/salarySheet/generateSalarySheet",{method:"POST",data:e})}batchAdd(e){return(0,l.W)("/api/salarySheet/batchAdd",{method:"POST",data:e,dataType:"json",contentType:"application/json; charset=UTF-8"})}list(){return(0,l.W)("/api/salarySheet/list",{method:"POST"})}listByEmpCode(e){return(0,l.W)("/api/salarySheet/listByEmpCode",{method:"POST",data:e})}}a["Z"]=new n},1865:function(e,a,t){t.r(a),t.d(a,{default:function(){return s}});var l=t(3396),n=t(2389),r=t(2074),d=t(4870);const i={style:{display:"flex","align-items":"center","justify-content":"center"}},y={style:{display:"flex","align-items":"center","justify-content":"center","margin-top":"20px"}};var o={__name:"SalaryAdd",setup(e){const a=(0,d.qj)({yearMonth:""}),t=(0,d.iH)([]),o=[{title:"员工号",dataIndex:"empCode",key:"empCode"},{title:"年份",dataIndex:"salarySheetYear",key:"salarySheetYear"},{title:"月份",dataIndex:"salarySheetMonth",key:"salarySheetMonth"},{title:"合同工资",dataIndex:"contractSalary",key:"contractSalary"},{title:"请假天数",dataIndex:"leaveDays",key:"leaveDays"},{title:"请假扣除",dataIndex:"leaveDeductSalary",key:"leaveDeductSalary"},{title:"社保",dataIndex:"socialSecurity",key:"socialSecurity"},{title:"公积金",dataIndex:"providentFund",key:"providentFund"},{title:"个税",dataIndex:"individualTax",key:"individualTax"},{title:"实发工资",dataIndex:"realSalary",key:"realSalary"}];console.log(n.Z);const u=async e=>{const{yearMonth:a}=e,l=a.year(),r=a.month()+1;t.value=await n.Z.generateSalarySheet({salarySheetYear:l,salarySheetMonth:r})};(0,l.bv)((async()=>{}));const s=async()=>{await n.Z.batchAdd(t.value),r.ZP.info("工资单保存成功")};return(e,n)=>{const r=(0,l.up)("a-date-picker"),d=(0,l.up)("a-form-item"),c=(0,l.up)("a-button"),m=(0,l.up)("a-form"),S=(0,l.up)("a-table");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,(0,l.dG)({model:a,ref:"formRef",autocomplete:"off",onFinish:u},e.formOneLayout),{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"选择月份",name:"yearMonth",rules:[{required:!0,message:"选择月份!"}]},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{value:a.yearMonth,"onUpdate:value":n[0]||(n[0]=e=>a.yearMonth=e),picker:"month"},null,8,["value"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(c,{type:"primary","html-type":"submit"},{default:(0,l.w5)((()=>[(0,l.Uk)("生成工资单")])),_:1})])])),_:1})])),_:1},16,["model"]),(0,l.Wm)(S,{dataSource:t.value,columns:o},null,8,["dataSource"]),(0,l._)("div",y,[(0,l.Wm)(c,{type:"primary",onClick:s},{default:(0,l.w5)((()=>[(0,l.Uk)("提交结果")])),_:1})])])}}};const u=o;var s=u},6490:function(e,a,t){t.r(a),t.d(a,{default:function(){return u}});var l=t(3396),n=t(4870),r=t(2389),d=t(8549),i=t(2483),y={__name:"SalaryList",setup(e){const a=[{title:"ID",dataIndex:"salarySheetId",key:"salarySheetId"},{title:"员工号",dataIndex:"empCode",key:"empCode"},{title:"年份",dataIndex:"salarySheetYear",key:"salarySheetYear"},{title:"月份",dataIndex:"salarySheetMonth",key:"salarySheetMonth"},{title:"合同工资",dataIndex:"contractSalary",key:"contractSalary"},{title:"请假天数",dataIndex:"leaveDays",key:"leaveDays"},{title:"请假扣除",dataIndex:"leaveDeductSalary",key:"leaveDeductSalary"},{title:"社保",dataIndex:"socialSecurity",key:"socialSecurity"},{title:"公积金",dataIndex:"providentFund",key:"providentFund"},{title:"个税",dataIndex:"individualTax",key:"individualTax"},{title:"实发工资",dataIndex:"realSalary",key:"realSalary"}],t=(0,n.iH)([]),y=(0,i.tv)(),o=async e=>{"/salary/my"===e.fullPath?t.value=await r.Z.listByEmpCode({empCode:(0,d.bG)().empCode}):t.value=await r.Z.list()};return(0,l.bv)((async()=>{})),(0,l.YP)((()=>y.currentRoute.value),(e=>{console.log(e),o(e)}),{immediate:!0}),(e,n)=>{const r=(0,l.up)("a-table");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,{dataSource:t.value,columns:a},null,8,["dataSource"])])}}};const o=y;var u=o}}]);
//# sourceMappingURL=salary.42d4a9cd.js.map