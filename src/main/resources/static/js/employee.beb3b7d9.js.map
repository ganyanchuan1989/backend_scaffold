{"version":3,"file":"js/employee.beb3b7d9.js","mappings":"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","sources":["webpack://hrms_frontend/./src/service/deptService.js","webpack://hrms_frontend/./src/service/employeeService.js","webpack://hrms_frontend/./src/service/jobService.js","webpack://hrms_frontend/./src/utils/myUtils.js","webpack://hrms_frontend/./src/views/employee/EmployeeAdd.vue","webpack://hrms_frontend/./src/views/employee/EmployeeAdd.vue?083a","webpack://hrms_frontend/./src/views/employee/EmployeeList.vue","webpack://hrms_frontend/./src/views/employee/EmployeeList.vue?ab4d","webpack://hrms_frontend/./src/views/employee/EmployeeModify.vue","webpack://hrms_frontend/./src/views/employee/EmployeeModify.vue?9028"],"sourcesContent":["import { request } from \"./request/request\";\n\nclass DeptService {\n  add(data) {\n    return request(\"/api/dept/add\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  update(data) {\n    return request(\"/api/dept/update\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  delete(data) {\n    return request(\"/api/dept/delete\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  list() {\n    return request(\"/api/dept/list\", {\n      method: \"POST\",\n    });\n  }\n  listAll() {\n    return request(\"/api/dept/listAll\", {\n      method: \"POST\",\n    });\n  }\n  queryByCode(data) {\n    return request(\"/api/dept/queryByCode\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  likeByCode(data) {\n    return request(\"/api/dept/likeByCode\", {\n      method: \"POST\",\n      data,\n    });\n  }\n}\n\nexport default new DeptService();\n","import { request } from \"./request/request\";\n\nclass EmployeeService {\n  add(data) {\n    return request(\"/api/employee/add\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  update(data) {\n    return request(\"/api/employee/update\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  delete(data) {\n    return request(\"/api/employee/delete\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  list() {\n    return request(\"/api/employee/list\", {\n      method: \"POST\",\n    });\n  }\n  listAll() {\n    return request(\"/api/employee/listAll\", {\n      method: \"POST\",\n    });\n  }\n  queryByCode(data) {\n    return request(\"/api/employee/queryByCode\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  likeByCode(data) {\n    return request(\"/api/employee/likeByCode\", {\n      method: \"POST\",\n      data,\n    });\n  }\n\n  login(data) {\n    return request(\"/api/employee/login\", {\n      method: \"POST\",\n      data,\n    });\n  }\n\n  modifyPwd(data) {\n    return request(\"/api/employee/modifyPwd\", {\n      method: \"POST\",\n      data,\n    });\n  }\n\n  \n}\n\nexport default new EmployeeService();\n","import { request } from \"./request/request\";\n\nclass JobService {\n  add(data) {\n    return request(\"/api/job/add\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  update(data) {\n    return request(\"/api/job/update\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  delete(data) {\n    return request(\"/api/job/delete\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  list() {\n    return request(\"/api/job/list\", {\n      method: \"POST\",\n    });\n  }\n  listAll() {\n    return request(\"/api/job/listAll\", {\n      method: \"POST\",\n    });\n  }\n  queryByCode(data) {\n    return request(\"/api/job/queryByCode\", {\n      method: \"POST\",\n      data,\n    });\n  }\n  likeByCode(data) {\n    return request(\"/api/job/likeByCode\", {\n      method: \"POST\",\n      data,\n    });\n  }\n}\n\nexport default new JobService();\n","export const setFieldsValue = (formState, data) => {\r\n  for (let key in formState) {\r\n    formState[key] = data[key];\r\n  }\r\n  return formState;\r\n};\r\n\r\n","<template>\r\n  <div class=\"employee_container\">\r\n    <a-form\r\n      :model=\"formState\"\r\n      ref=\"formRef\"\r\n      autocomplete=\"off\"\r\n      @finish=\"onFinish\"\r\n    >\r\n      <a-row>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"员工代码\"\r\n            name=\"empCode\"\r\n            :rules=\"[{ required: true, message: '请输入员工代码!' }]\"\r\n          >\r\n            <a-input v-model:value=\"formState.empCode\" :disabled=\"disabled\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"姓名\"\r\n            name=\"empName\"\r\n            :rules=\"[{ required: true, message: '请输入员工姓名!' }]\"\r\n          >\r\n            <a-input v-model:value=\"formState.empName\" :disabled=\"disabled\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"职位\"\r\n            name=\"jobCode\"\r\n            :rules=\"[{ required: true, message: '请选择职位!' }]\"\r\n          >\r\n            <a-select v-model:value=\"formState.jobCode\" :disabled=\"disabled\">\r\n              <template v-for=\"(item, index) in jobState.value\" :key=\"index\">\r\n                <a-select-option :value=\"item.jobCode\">{{\r\n                  item.jobName\r\n                }}</a-select-option>\r\n              </template>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"部门\"\r\n            name=\"deptCode\"\r\n            :rules=\"[{ required: true, message: '请选择部门!' }]\"\r\n          >\r\n            <a-select v-model:value=\"formState.deptCode\" :disabled=\"disabled\">\r\n              <template v-for=\"(item, index) in deptState.value\" :key=\"index\">\r\n                <a-select-option :value=\"item.deptCode\">{{\r\n                  item.deptName\r\n                }}</a-select-option>\r\n              </template>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"性别\"\r\n            name=\"empSex\"\r\n            :rules=\"[{ required: true, message: '请选择性别!' }]\"\r\n          >\r\n            <a-select v-model:value=\"formState.empSex\">\r\n              <template\r\n                v-for=\"(item, index) in getDictDataByKey('hrms_employee_sex')\"\r\n                :key=\"index\"\r\n              >\r\n                <a-select-option :value=\"item.dataDictValue\">{{\r\n                  item.dataDictLabel\r\n                }}</a-select-option>\r\n              </template>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"出生日期\"\r\n            name=\"empBirth\"\r\n            :rules=\"[{ required: true, message: '请输入员工姓名!' }]\"\r\n          >\r\n            <a-date-picker\r\n              v-model:value=\"formState.empBirth\"\r\n              value-format=\"YYYY-MM-DD\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"入职时间\"\r\n            name=\"empHireDate\"\r\n            :rules=\"[{ required: true, message: '请选择入职时间!' }]\"\r\n          >\r\n            <a-date-picker\r\n              :disabled=\"disabled\"\r\n              v-model:value=\"formState.empHireDate\"\r\n              value-format=\"YYYY-MM-DD\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"电话\"\r\n            name=\"empTelPhone\"\r\n            :rules=\"[{ required: true, message: '请输电话!' }]\"\r\n          >\r\n            <a-input v-model:value=\"formState.empTelPhone\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"籍贯\"\r\n            name=\"empNativePlace\"\r\n            :rules=\"[{ required: true, message: '请输籍贯!' }]\"\r\n          >\r\n            <a-input v-model:value=\"formState.empNativePlace\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"紧急联系人\"\r\n            name=\"empEmerName\"\r\n            :rules=\"[{ required: true, message: '请输入紧急联系人!' }]\"\r\n          >\r\n            <a-input v-model:value=\"formState.empEmerName\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"紧急联系人关系\"\r\n            name=\"empEmerRelationship\"\r\n            :rules=\"[{ required: true, message: '请选择紧急联系人关系!' }]\"\r\n          >\r\n            <a-select v-model:value=\"formState.empEmerRelationship\">\r\n              <template\r\n                v-for=\"(item, index) in getDictDataByKey(\r\n                  'hrms_employee_emer_relationship'\r\n                )\"\r\n                :key=\"index\"\r\n              >\r\n                <a-select-option :value=\"item.dataDictValue\">{{\r\n                  item.dataDictLabel\r\n                }}</a-select-option>\r\n              </template>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"紧急联系人电话\"\r\n            name=\"empEmerTelPhone\"\r\n            :rules=\"[{ required: true, message: '请输入紧急联系人电话!' }]\"\r\n          >\r\n            <a-input v-model:value=\"formState.empEmerTelPhone\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"学历\"\r\n            name=\"empEducation\"\r\n            :rules=\"[{ required: true, message: '请选择学历!' }]\"\r\n          >\r\n            <a-select\r\n              v-model:value=\"formState.empEducation\"\r\n              :disabled=\"disabled\"\r\n            >\r\n              <template\r\n                v-for=\"(item, index) in getDictDataByKey(\r\n                  'hrms_employee_education'\r\n                )\"\r\n                :key=\"index\"\r\n              >\r\n                <a-select-option :value=\"item.dataDictValue\">{{\r\n                  item.dataDictLabel\r\n                }}</a-select-option>\r\n              </template>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"毕业学校\"\r\n            name=\"empSchoolTag\"\r\n            :rules=\"[{ required: true, message: '请输入毕业学校!' }]\"\r\n          >\r\n            <a-input\r\n              v-model:value=\"formState.empSchoolTag\"\r\n              :disabled=\"disabled\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"专业\"\r\n            name=\"empSchoolMajor\"\r\n            :rules=\"[{ required: true, message: '请输入学习专业!' }]\"\r\n          >\r\n            <a-input\r\n              v-model:value=\"formState.empSchoolMajor\"\r\n              :disabled=\"disabled\"\r\n            />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"24\">\r\n          <a-form-item\r\n            label=\"地址\"\r\n            name=\"empAddress\"\r\n            :rules=\"[{ required: true, message: '请输入地址!' }]\"\r\n          >\r\n            <a-textarea v-model:value=\"formState.empAddress\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"备注\" name=\"empRemark\">\r\n            <a-textarea v-model:value=\"formState.empRemark\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-item\r\n            label=\"状态\"\r\n            name=\"empStatus\"\r\n            :rules=\"[{ required: true, message: '请选择状态!' }]\"\r\n          >\r\n            <a-select v-model:value=\"formState.empStatus\">\r\n              <template\r\n                v-for=\"(item, index) in getDictDataByKey(\r\n                  'hrms_employee_status'\r\n                )\"\r\n                :key=\"index\"\r\n              >\r\n                <a-select-option :value=\"item.dataDictValue\">{{\r\n                  item.dataDictLabel\r\n                }}</a-select-option>\r\n              </template>\r\n            </a-select>\r\n          </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <a-form-item :wrapper-col=\"{ offset: 8, span: 16 }\">\r\n        <a-button type=\"primary\" html-type=\"submit\">保存</a-button>\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport employeeService from \"@/service/employeeService\";\r\nimport jobService from \"@/service/jobService\";\r\nimport deptService from \"@/service/deptService\";\r\n\r\nimport { reactive, ref, onMounted } from \"vue\";\r\nimport { message } from \"ant-design-vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { OPERATE } from \"@/utils/constant\";\r\nimport { setFieldsValue } from \"@/utils/myUtils\";\r\nimport { getDictDataByKey } from \"@/utils/dataDictUtil\";\r\nimport { getUserInfo } from \"@/utils/authUtil\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nlet operate = OPERATE.ADD;\r\nlet cache = null;\r\n\r\nlet formState = reactive({\r\n  empCode: undefined,\r\n  empName: undefined,\r\n  jobCode: undefined,\r\n  deptCode: undefined,\r\n  empSex: undefined,\r\n  empBirth: undefined,\r\n  empHireDate: undefined,\r\n  empTelPhone: undefined,\r\n  empNativePlace: undefined,\r\n  empEmerName: undefined,\r\n  empEmerRelationship: undefined,\r\n  empEmerTelPhone: undefined,\r\n  empAddress: undefined,\r\n  empEducation: undefined,\r\n  empSchoolTag: undefined,\r\n  empSchoolMajor: undefined,\r\n  empRemark: undefined,\r\n  empStatus: 0,\r\n});\r\n\r\nconst jobState = reactive({\r\n  value: [],\r\n});\r\nconst deptState = reactive({\r\n  value: [],\r\n});\r\n\r\nconst disabled = ref(false);\r\n\r\nconst formRef = ref();\r\n\r\nconst onFinish = async (values) => {\r\n  if (operate === OPERATE.UPDATE) {\r\n    values = { ...cache, ...values };\r\n    const ret = await employeeService.update(values);\r\n    message.info(\"修改成功：\" + ret.empCode);\r\n    if (!disabled.value) {\r\n      router.back();\r\n    }\r\n  } else {\r\n    const ret = await employeeService.add(values);\r\n    message.info(\"新增成功：\" + ret.empCode);\r\n    formRef.value.resetFields();\r\n  }\r\n};\r\n\r\nconst queryAllJob = async () => {\r\n  jobState.value = await jobService.list();\r\n};\r\n\r\nconst queryAllDept = async () => {\r\n  deptState.value = await deptService.list();\r\n};\r\n\r\nonMounted(async () => {\r\n  // 查询所有职位\r\n  queryAllJob();\r\n  // 查询所有部门\r\n  queryAllDept();\r\n\r\n  if (route.params.code) {\r\n    operate = OPERATE.UPDATE; // 修改\r\n    cache = await employeeService.queryByCode({ empCode: route.params.code });\r\n    setFieldsValue(formState, { ...cache });\r\n  } else if (route.fullPath === \"/employee/my\") {\r\n    disabled.value = true;\r\n    operate = OPERATE.UPDATE; // 修改\r\n    cache = await employeeService.queryByCode({\r\n      empCode: getUserInfo().empCode,\r\n    });\r\n    setFieldsValue(formState, { ...cache });\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.employee_container {\r\n  & .ant-col .ant-form-item-label {\r\n    width: 150px !important;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EmployeeAdd.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EmployeeAdd.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EmployeeAdd.vue?vue&type=style&index=0&id=28d00946&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div>\r\n    <a-form\r\n      :model=\"formState\"\r\n      name=\"basic\"\r\n      autocomplete=\"off\"\r\n      @finish=\"onFinish\"\r\n      v-bind=\"formOneLayout\"\r\n      ref=\"formRef\"\r\n    >\r\n      <a-form-item\r\n        label=\"员工代码\"\r\n        name=\"empCode\"\r\n        :rules=\"[{ required: true, message: '请输入员工代码!' }]\"\r\n      >\r\n        <a-input v-model:value=\"formState.empCode\" />\r\n      </a-form-item>\r\n      <a-form-item :wrapper-col=\"{ offset: 8, span: 16 }\">\r\n        <a-button type=\"primary\" html-type=\"submit\">查询</a-button>\r\n        <a-button @click=\"resetForm\" style=\"margin-left: 10px\">重置</a-button>\r\n      </a-form-item>\r\n    </a-form>\r\n    <a-table :dataSource=\"dataSource\" :columns=\"columns\">\r\n      <template #bodyCell=\"{ column, record }\">\r\n        <template v-if=\"column.dataIndex === 'operation'\">\r\n          <a @click=\"updateJob(record)\">修改</a> |\r\n          <a-popconfirm\r\n            v-if=\"dataSource.length\"\r\n            title=\"确定要删除吗?\"\r\n            @confirm=\"deleteDataDict(record)\"\r\n          >\r\n            <a>删除</a>\r\n          </a-popconfirm>\r\n        </template>\r\n        <template v-if=\"column.dataIndex === 'deptCode'\">\r\n          {{ getDeptNameByCode(record) }}\r\n        </template>\r\n        <template v-if=\"column.dataIndex === 'jobCode'\">\r\n          {{ getJobNameByCode(record) }}\r\n        </template>\r\n      </template>\r\n    </a-table>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport jobService from \"@/service/jobService\";\r\nimport deptService from \"@/service/deptService\";\r\n\r\nimport { onMounted, reactive, ref } from \"vue\";\r\nimport employeeService from \"@/service/employeeService\"; //引入路由函数\r\nimport { useRouter } from \"vue-router\";\r\nimport { message } from \"ant-design-vue\";\r\nimport { DATA_STATUS, formOneLayout } from \"@/utils/constant\";\r\n\r\nconst router = useRouter();\r\n\r\nconst columns = [\r\n  { title: \"员工代码\", dataIndex: \"empCode\", key: \"empCode\" },\r\n  { title: \"员工名称\", dataIndex: \"empName\", key: \"empName\" },\r\n  { title: \"员工部门\", dataIndex: \"deptCode\", key: \"deptCode\" },\r\n  { title: \"员工职位\", dataIndex: \"jobCode\", key: \"jobCode\" },\r\n  { title: \"操作\", dataIndex: \"operation\" },\r\n];\r\n\r\nconst dataSource = ref([]);\r\nconst formRef = ref();\r\n\r\nlet formState = reactive({\r\n  empCode: \"\",\r\n});\r\nconst jobState = reactive({\r\n  value: [],\r\n});\r\nconst deptState = reactive({\r\n  value: [],\r\n});\r\n\r\nconst onFinish = async (values) => {\r\n  dataSource.value = await employeeService.likeByCode(values);\r\n};\r\n\r\nconst resetForm = async () => {\r\n  formRef.value.resetFields();\r\n  queryAll();\r\n};\r\n\r\nconst queryAllJob = async () => {\r\n  jobState.value = await jobService.list();\r\n};\r\n\r\nconst queryAllDept = async () => {\r\n  deptState.value = await deptService.list();\r\n};\r\n\r\nonMounted(async () => {\r\n  queryAll();\r\n  queryAllJob();\r\n  queryAllDept();\r\n});\r\n\r\nconst updateJob = (record) => {\r\n  router.push({\r\n    path: `/employee/update/${record.empCode}`,\r\n  });\r\n};\r\n\r\nconst queryAll = async () => {\r\n  dataSource.value = await employeeService.list();\r\n};\r\n\r\nconst deleteDataDict = async (record) => {\r\n  await employeeService.delete({ ...record, dataStatus: DATA_STATUS.DELETE });\r\n  message.info(\"删除成功：\" + record.empCode);\r\n  queryAll();\r\n};\r\n\r\nconst getDeptNameByCode = (record) => {\r\n  for (const item of deptState.value) {\r\n    if (item.deptCode === record.deptCode) {\r\n      return item.deptName;\r\n    }\r\n  }\r\n  return record.deptCode;\r\n};\r\n\r\nconst getJobNameByCode = (record) => {\r\n  for (const item of jobState.value) {\r\n    if (item.jobCode === record.jobCode) {\r\n      return item.jobName;\r\n    }\r\n  }\r\n  return record.jobCode;\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import script from \"./EmployeeList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EmployeeList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div>\r\n    <a-form\r\n      :model=\"formState\"\r\n      ref=\"formRef\"\r\n      autocomplete=\"off\"\r\n      @finish=\"onFinish\"\r\n      v-bind=\"formOneLayout\"\r\n    >\r\n      <a-form-item\r\n        label=\"原始密码\"\r\n        name=\"oldPwd\"\r\n        :rules=\"[{ required: true, message: '请输入原始密码!' }]\"\r\n      >\r\n        <a-input v-model:value=\"formState.oldPwd\" />\r\n      </a-form-item>\r\n      <a-form-item\r\n        label=\"新密码\"\r\n        name=\"newPwd\"\r\n        :rules=\"[{ required: true, message: '请输入新密码!' }]\"\r\n      >\r\n        <a-input v-model:value=\"formState.newPwd\" />\r\n      </a-form-item>\r\n\r\n      <a-form-item\r\n        label=\"确认密码\"\r\n        name=\"confirmPwd\"\r\n        :rules=\"[{ required: true, message: '请输入新密码!' }]\"\r\n      >\r\n        <a-input v-model:value=\"formState.confirmPwd\" />\r\n      </a-form-item>\r\n\r\n      <a-form-item :wrapper-col=\"{ offset: 8, span: 16 }\">\r\n        <a-button type=\"primary\" html-type=\"submit\">保存</a-button>\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport employeeService from \"@/service/employeeService\";\r\nimport { formOneLayout } from \"@/utils/constant\";\r\nimport { message } from \"ant-design-vue\";\r\nimport { getUserInfo } from \"@/utils/authUtil\";\r\n\r\nimport { reactive } from \"vue\";\r\n\r\nlet formState = reactive({\r\n  oldPwd: \"\",\r\n  newPwd: \"\",\r\n  confirmPwd: \"\",\r\n});\r\nconst onFinish = async (values) => {\r\n  const { newPwd, confirmPwd } = values;\r\n  const { empCode } = getUserInfo();\r\n  if (newPwd !== confirmPwd) {\r\n    message.error(\"新密码和确认密码不一致\");\r\n    return;\r\n  }\r\n  try {\r\n    await employeeService.modifyPwd({ ...values, empCode });\r\n    message.info(\"密码修改成功\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import script from \"./EmployeeModify.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EmployeeModify.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["DeptService","add","data","request","method","update","delete","list","listAll","queryByCode","likeByCode","EmployeeService","login","modifyPwd","JobService","setFieldsValue","formState","key","route","useRoute","router","useRouter","operate","OPERATE","cache","reactive","empCode","undefined","empName","jobCode","deptCode","empSex","empBirth","empHireDate","empTelPhone","empNativePlace","empEmerName","empEmerRelationship","empEmerTelPhone","empAddress","empEducation","empSchoolTag","empSchoolMajor","empRemark","empStatus","jobState","value","deptState","disabled","ref","formRef","onFinish","async","values","ret","employeeService","message","back","resetFields","queryAllJob","jobService","queryAllDept","deptService","onMounted","params","code","fullPath","getUserInfo","__exports__","columns","title","dataIndex","dataSource","resetForm","queryAll","updateJob","record","push","path","deleteDataDict","dataStatus","DATA_STATUS","getDeptNameByCode","item","deptName","getJobNameByCode","jobName","oldPwd","newPwd","confirmPwd","error","console","log"],"sourceRoot":""}